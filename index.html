<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Civilization Online</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- Initial screen: Join or Create -->
    <div id="welcomeScreen" class="screen">
      <h1>Civilization Online</h1>
      <p class="subtitle">Build your empire without collapsing</p>
      
      <div class="section">
        <h2>Join Existing Game</h2>
        <input type="text" id="joinGameCode" placeholder="Enter Game Code" maxlength="5" class="input">
        <input type="text" id="joinPlayerName" placeholder="Your Display Name" maxlength="20" class="input">
        <button id="joinBtn" class="btn btn-primary">Join Game</button>
      </div>

      <div class="divider">OR</div>

      <div class="section">
        <h2>Create New Game</h2>
        <input type="password" id="creatorKey" placeholder="Creator Key" class="input">
        <input type="text" id="createPlayerName" placeholder="Your Display Name" maxlength="20" class="input">
        <button id="createBtn" class="btn btn-success">Create Game</button>
      </div>
    </div>

    <!-- Lobby screen: Waiting for players -->
    <div id="lobbyScreen" class="screen hidden">
      <div class="header">
        <h1>Civilization Online</h1>
        <div class="game-code-display">
          <span class="label">Game Code:</span>
          <span id="displayGameCode" class="code"></span>
          <button id="copyCodeBtn" class="btn-small">Copy</button>
        </div>
      </div>

      <div class="status-bar">
        <span class="status-item">Phase: <strong id="phaseDisplay">SETUP</strong></span>
        <span class="status-item">Round: <strong id="roundDisplay">-</strong></span>
        <span class="status-item" id="lockedStatus"></span>
      </div>

      <div class="section">
        <h2>Players in Lobby</h2>
        <div id="playersList" class="players-list"></div>
      </div>

      <div class="section" id="hostControls" class="hidden">
        <button id="startGameBtn" class="btn btn-success">Start Game</button>
        <p class="hint">As host, you control when the game starts</p>
      </div>

      <div class="section">
        <button id="leaveGameBtn" class="btn btn-danger">Leave Game</button>
      </div>
    </div>

    <!-- Loading indicator -->
    <div id="loadingScreen" class="screen hidden">
      <div class="spinner"></div>
      <p>Connecting...</p>
    </div>
  </div>

  <!-- Firebase Modular SDK -->
  <script type="module" src="main.js"></script>
</body>
</html>
